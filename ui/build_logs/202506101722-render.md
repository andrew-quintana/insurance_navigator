2025-06-11T00:34:55.280873661Z INFO:     10.219.27.180:60322 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:00.280946141Z INFO:     10.219.27.180:60342 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:00.281243059Z INFO:     10.219.27.180:60326 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:05.279678284Z INFO:     10.219.27.180:46490 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:10.279124427Z INFO:     10.219.27.180:46498 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:15.280206293Z INFO:     10.219.27.180:54880 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:20.342231312Z INFO:     10.219.27.180:54886 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:25.290183637Z INFO:     10.219.27.180:39872 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:30.280534559Z INFO:     10.219.27.180:39884 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:30.280842127Z INFO:     10.219.27.180:39880 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:35.279706521Z INFO:     10.219.27.180:58818 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:40.279842888Z INFO:     10.219.27.180:58830 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:45.280115469Z INFO:     10.219.27.180:51316 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:50.279587997Z INFO:     10.219.27.180:51322 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:35:55.344639416Z INFO:     10.219.27.180:41850 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:00.28101642Z INFO:     10.219.27.180:41858 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:00.28135448Z INFO:     10.219.27.180:41860 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:05.280001534Z INFO:     10.219.27.180:46518 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:10.279658795Z INFO:     10.219.27.180:46532 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:15.280177749Z INFO:     10.219.27.180:44596 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:20.278948795Z INFO:     10.219.27.180:44610 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:25.27952788Z INFO:     10.219.27.180:45630 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:30.302190956Z 2025-06-11 00:36:30,300 - asyncio - ERROR - Fatal error on SSL protocol
2025-06-11T00:36:30.302219197Z protocol: <asyncio.sslproto.SSLProtocol object at 0x7eab8d739110>
2025-06-11T00:36:30.302224497Z transport: <_SelectorSocketTransport closing fd=12 read=idle write=<idle, bufsize=0>>
2025-06-11T00:36:30.302229488Z Traceback (most recent call last):
2025-06-11T00:36:30.302234438Z   File "asyncpg/protocol/coreproto.pyx", line 122, in asyncpg.protocol.protocol.CoreProtocol._read_server_messages
2025-06-11T00:36:30.302251118Z   File "asyncpg/protocol/coreproto.pyx", line 729, in asyncpg.protocol.protocol.CoreProtocol._push_result
2025-06-11T00:36:30.302254008Z   File "asyncpg/protocol/protocol.pyx", line 927, in asyncpg.protocol.protocol.BaseProtocol._on_result
2025-06-11T00:36:30.302256908Z   File "asyncpg/protocol/protocol.pyx", line 849, in asyncpg.protocol.protocol.BaseProtocol._dispatch_result
2025-06-11T00:36:30.302260038Z AttributeError: 'NoneType' object has no attribute 'cancelled'
2025-06-11T00:36:30.302262418Z 
2025-06-11T00:36:30.302265009Z During handling of the above exception, another exception occurred:
2025-06-11T00:36:30.302267549Z 
2025-06-11T00:36:30.302270169Z Traceback (most recent call last):
2025-06-11T00:36:30.302272839Z   File "/usr/local/lib/python3.11/asyncio/sslproto.py", line 737, in _do_read
2025-06-11T00:36:30.302275899Z     self._do_read__copied()
2025-06-11T00:36:30.302278549Z   File "/usr/local/lib/python3.11/asyncio/sslproto.py", line 797, in _do_read__copied
2025-06-11T00:36:30.302281179Z     self._app_protocol.data_received(first)
2025-06-11T00:36:30.302283689Z   File "asyncpg/protocol/protocol.pyx", line 975, in asyncpg.protocol.protocol.BaseProtocol.data_received
2025-06-11T00:36:30.302286429Z   File "asyncpg/protocol/coreproto.pyx", line 143, in asyncpg.protocol.protocol.CoreProtocol._read_server_messages
2025-06-11T00:36:30.302289719Z   File "asyncpg/protocol/coreproto.pyx", line 729, in asyncpg.protocol.protocol.CoreProtocol._push_result
2025-06-11T00:36:30.302292209Z   File "asyncpg/protocol/protocol.pyx", line 927, in asyncpg.protocol.protocol.BaseProtocol._on_result
2025-06-11T00:36:30.30229505Z   File "asyncpg/protocol/protocol.pyx", line 849, in asyncpg.protocol.protocol.BaseProtocol._dispatch_result
2025-06-11T00:36:30.30229775Z AttributeError: 'NoneType' object has no attribute 'cancelled'
2025-06-11T00:36:30.302566887Z 2025-06-11 00:36:30,302 - db.services.db_pool - ERROR - Database connection error: connection was closed in the middle of operation
2025-06-11T00:36:30.302633839Z 2025-06-11 00:36:30,302 - main - WARNING - ‚ö†Ô∏è Health check: Database connection error: connection was closed in the middle of operation
2025-06-11T00:36:30.303222025Z INFO:     10.219.27.180:45646 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:30.346200908Z INFO:     10.219.27.180:45658 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:35.279941367Z INFO:     10.219.27.180:39338 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:45.279115368Z INFO:     10.219.27.180:52668 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:50.279348612Z INFO:     10.219.27.180:52670 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:36:55.279411354Z INFO:     10.219.27.180:35338 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:37:00.280061284Z INFO:     10.219.27.180:35346 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:37:00.401958042Z INFO:     10.219.27.180:35354 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:37:05.279054581Z INFO:     10.219.27.180:37586 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:37:09.469973736Z INFO:     10.220.221.111:0 - "OPTIONS /login HTTP/1.1" 200 OK
2025-06-11T00:37:09.602776547Z 2025-06-11 00:37:09,600 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
2025-06-11T00:37:09.602805258Z Traceback (most recent call last):
2025-06-11T00:37:09.602811247Z   File "/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
2025-06-11T00:37:09.602816648Z     version = _bcrypt.__about__.__version__
2025-06-11T00:37:09.602822518Z               ^^^^^^^^^^^^^^^^^
2025-06-11T00:37:09.602828318Z AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-11T00:37:11.410849594Z INFO:     10.219.27.180:37594 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:37:11.496694606Z 2025-06-11 00:37:11,496 - db.services.user_service - INFO - User authenticated successfully: deploymenttest@example.com
2025-06-11T00:37:11.518362177Z 2025-06-11 00:37:11,518 - main - INFO - User logged in: deploymenttest@example.com
2025-06-11T00:37:11.519806325Z INFO:     10.220.221.111:0 - "POST /login HTTP/1.1" 200 OK
2025-06-11T00:37:12.155028887Z INFO:     10.220.221.111:0 - "OPTIONS /me HTTP/1.1" 200 OK
2025-06-11T00:37:12.354899996Z INFO:     10.220.221.111:0 - "GET /me HTTP/1.1" 200 OK
2025-06-11T00:37:15.280112077Z INFO:     10.219.27.180:51248 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:37:20.27939156Z INFO:     10.219.27.180:51260 - "GET /health HTTP/1.1" 200 OK
2025-06-11T00:37:24.354902285Z INFO:     10.220.230.75:0 - "OPTIONS /upload-policy HTTP/1.1" 200 OK
2025-06-11T00:37:24.542154276Z 2025-06-11 00:37:24,540 - main - INFO - üöÄ Starting document upload for user b6a80398-0323-4622-ad3a-7e1b1ba56877: test_small_document.txt
2025-06-11T00:37:24.542177307Z 2025-06-11 00:37:24,540 - main - INFO - üìñ Step 1: Reading file data...
2025-06-11T00:37:24.542182057Z 2025-06-11 00:37:24,540 - main - INFO - ‚úÖ Step 1 complete: Read 122 bytes
2025-06-11T00:37:24.542186487Z 2025-06-11 00:37:24,540 - main - INFO - üîç Step 2: Extracting text content from test_small_document.txt...
2025-06-11T00:37:24.542191907Z 2025-06-11 00:37:24,541 - main - INFO - üîç Starting text extraction from test_small_document.txt (size: 122 bytes)
2025-06-11T00:37:24.542196717Z 2025-06-11 00:37:24,541 - main - INFO - üìù Detected text file, using UTF-8 decoding...
2025-06-11T00:37:24.542200978Z 2025-06-11 00:37:24,541 - main - INFO - ‚úÖ UTF-8 decoding successful: 122 characters
2025-06-11T00:37:24.542205007Z 2025-06-11 00:37:24,541 - main - INFO - ‚úÖ Step 2 complete: Extracted 122 characters
2025-06-11T00:37:24.542208988Z 2025-06-11 00:37:24,541 - main - INFO - üÜî Generated document ID: cdd32b04-6ffc-44bc-835a-4efe9b0cc073
2025-06-11T00:37:24.542213058Z 2025-06-11 00:37:24,541 - main - INFO - ‚úÇÔ∏è  Step 3: Chunking text (length: 122)...
2025-06-11T00:37:24.542405483Z 2025-06-11 00:37:24,542 - main - INFO - ‚úÖ Step 3 complete: Created 1 chunks from document
2025-06-11T00:37:24.542417723Z 2025-06-11 00:37:24,542 - main - INFO - üß† Step 4: Loading embedding model...
2025-06-11T00:37:24.542507256Z 2025-06-11 00:37:24,542 - main - INFO - Loading SBERT model: all-MiniLM-L6-v2...
2025-06-11T00:37:24.549216256Z 2025-06-11 00:37:24,549 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-06-11T00:37:24.549248127Z 2025-06-11 00:37:24,549 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2