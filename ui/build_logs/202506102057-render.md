2025-06-11T04:17:31.168503944Z 2025-06-11 04:17:31,168 - agents.patient_navigator.patient_navigator - INFO - Patient Navigator Agent initialized with model claude-3-7-sonnet-20250219
2025-06-11T04:17:31.584365662Z 2025-06-11 04:17:31,584 - agent.task_requirements - INFO - task_requirements agent initialized with prompt version v0_1
2025-06-11T04:17:31.584527456Z 2025-06-11 04:17:31,584 - agent.task_requirements - INFO - Successfully loaded prompt from agents/task_requirements/prompt_task_requirements_v0_1.md
2025-06-11T04:17:31.584766422Z 2025-06-11 04:17:31,584 - agent.task_requirements - INFO - Successfully loaded 3 examples from agents/task_requirements/prompt_examples_task_requirements_v0_1.json
2025-06-11T04:17:31.584877345Z 2025-06-11 04:17:31,584 - agent.task_requirements - INFO - Successfully loaded prompt from agents/task_requirements/prompt_task_requirements_v0_1.md
2025-06-11T04:17:31.585053149Z 2025-06-11 04:17:31,584 - agent.task_requirements - INFO - Successfully loaded 3 examples from agents/task_requirements/prompt_examples_task_requirements_v0_1.json
2025-06-11T04:17:31.585154632Z 2025-06-11 04:17:31,585 - agents.task_requirements.task_requirements - INFO - Task Requirements Agent initialized with model claude-3-7-sonnet-20250219
2025-06-11T04:17:32.075425563Z 2025-06-11 04:17:32,075 - agents.service_access_strategy.service_access_strategy - INFO - service_access_strategy agent initialized with prompt version v0_2
2025-06-11T04:17:32.075777151Z 2025-06-11 04:17:32,075 - agents.service_access_strategy.service_access_strategy - INFO - Successfully loaded prompt from agents/service_access_strategy/prompt_service_access_strategy_v0_2.md
2025-06-11T04:17:32.077264828Z 2025-06-11 04:17:32,077 - agents.service_access_strategy.service_access_strategy - INFO - Service Access Strategy Agent initialized with model claude-3-7-sonnet-20250219
2025-06-11T04:17:32.077417032Z 2025-06-11 04:17:32,077 - agents.service_access_strategy.service_access_strategy - INFO - Successfully loaded prompt from agents/service_access_strategy/prompt_service_access_strategy_v0_2.md
2025-06-11T04:17:32.077682998Z 2025-06-11 04:17:32,077 - agents.service_access_strategy.service_access_strategy - INFO - Service Access Strategy Agent initialized with model claude-3-7-sonnet-20250219
2025-06-11T04:17:32.078348565Z 2025-06-11 04:17:32,078 - agent.chat_communicator - INFO - chat_communicator agent initialized with prompt version v0_1
2025-06-11T04:17:32.078476198Z 2025-06-11 04:17:32,078 - agent.chat_communicator - INFO - Successfully loaded prompt from agents/chat_communicator/prompt_chat_communicator_v0_1.md
2025-06-11T04:17:32.078863108Z 2025-06-11 04:17:32,078 - agent.chat_communicator - INFO - Successfully loaded 4 examples from agents/chat_communicator/prompt_examples_chat_communicator_v0_1.json
2025-06-11T04:17:32.079201046Z 2025-06-11 04:17:32,079 - agent.chat_communicator - INFO - Successfully loaded prompt from agents/chat_communicator/prompt_chat_communicator_v0_1.md
2025-06-11T04:17:32.079496093Z 2025-06-11 04:17:32,079 - agent.chat_communicator - INFO - Successfully loaded 4 examples from agents/chat_communicator/prompt_examples_chat_communicator_v0_1.json
2025-06-11T04:17:32.079709419Z 2025-06-11 04:17:32,079 - agents.chat_communicator.chat_communicator - INFO - Chat Communicator Agent initialized with model claude-3-sonnet-20240229-v1h
2025-06-11T04:17:32.079722929Z 2025-06-11 04:17:32,079 - graph.agent_orchestrator - WARNING - üö´ ORCHESTRATOR: Security bypass is ENABLED for all workflows
2025-06-11T04:17:32.079795131Z 2025-06-11 04:17:32,079 - graph.agent_orchestrator - INFO - All agents initialized successfully
2025-06-11T04:17:32.275948559Z 2025-06-11 04:17:32,275 - graph.agent_orchestrator - INFO - LangGraph workflows built successfully
2025-06-11T04:17:32.275985919Z 2025-06-11 04:17:32,275 - main - INFO - ‚úÖ Agent orchestrator initialized
2025-06-11T04:17:32.27598996Z 2025-06-11 04:17:32,275 - main - INFO - üéâ Startup complete - Insurance Navigator API ready!
2025-06-11T04:17:32.276192414Z INFO:     Application startup complete.
2025-06-11T04:17:32.276501412Z INFO:     Uvicorn running on http://0.0.0.0:10000 (Press CTRL+C to quit)
2025-06-11T04:17:32.673329009Z üåê Using production database: postgresql://postgres.jhrespvvhbnloxrieycf:beqhar-qincyg-Syxxi8@[host]
2025-06-11T04:17:32.673348789Z INFO:     127.0.0.1:48904 - "HEAD / HTTP/1.1" 405 Method Not Allowed
2025-06-11T04:17:34.093407906Z INFO:     10.219.26.96:42702 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:17:34.097649931Z INFO:     10.219.26.96:42716 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:17:34.282522947Z ==> Your service is live üéâ
2025-06-11T04:17:35.571065499Z INFO:     10.220.221.111:0 - "GET / HTTP/1.1" 200 OK
2025-06-11T04:17:39.02815282Z INFO:     10.219.26.96:47560 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:17:44.029430824Z INFO:     10.219.26.96:47576 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:17:49.031785835Z INFO:     10.219.26.96:47776 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:17:54.028551669Z INFO:     10.219.26.96:47794 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:17:54.028904658Z INFO:     10.219.26.96:47792 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:17:59.027767284Z INFO:     10.219.26.96:55396 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:00.674158577Z INFO:     10.220.221.111:0 - "OPTIONS /login HTTP/1.1" 200 OK
2025-06-11T04:18:00.839550453Z 2025-06-11 04:18:00,837 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
2025-06-11T04:18:00.839572084Z Traceback (most recent call last):
2025-06-11T04:18:00.839576574Z   File "/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
2025-06-11T04:18:00.839580494Z     version = _bcrypt.__about__.__version__
2025-06-11T04:18:00.839585974Z               ^^^^^^^^^^^^^^^^^
2025-06-11T04:18:00.839591574Z AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-11T04:18:02.762645889Z 2025-06-11 04:18:02,762 - db.services.user_service - INFO - User authenticated successfully: deploymenttest@example.com
2025-06-11T04:18:02.785970807Z 2025-06-11 04:18:02,785 - main - INFO - User logged in: deploymenttest@example.com
2025-06-11T04:18:02.791391261Z INFO:     10.220.63.148:0 - "POST /login HTTP/1.1" 200 OK
2025-06-11T04:18:03.465488175Z INFO:     10.220.63.148:0 - "OPTIONS /me HTTP/1.1" 200 OK
2025-06-11T04:18:03.691207915Z INFO:     10.220.63.148:0 - "GET /me HTTP/1.1" 200 OK
2025-06-11T04:18:04.027545684Z INFO:     10.219.26.96:55402 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:09.097498223Z INFO:     10.219.26.96:48380 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:12.088772833Z INFO:     10.220.63.148:0 - "OPTIONS /upload-policy HTTP/1.1" 200 OK
2025-06-11T04:18:12.305063339Z 2025-06-11 04:18:12,304 - main - INFO - üöÄ Starting document upload for user b6a80398-0323-4622-ad3a-7e1b1ba56877: test_small_document.txt
2025-06-11T04:18:12.30508621Z 2025-06-11 04:18:12,304 - main - INFO - üìñ Step 1: Reading file data...
2025-06-11T04:18:12.305376887Z 2025-06-11 04:18:12,304 - main - INFO - ‚úÖ Step 1 complete: Read 122 bytes
2025-06-11T04:18:12.305415198Z 2025-06-11 04:18:12,304 - main - INFO - üîç Step 2: Extracting text content from test_small_document.txt...
2025-06-11T04:18:12.307033048Z 2025-06-11 04:18:12,306 - main - INFO - üîç Starting text extraction from test_small_document.txt (size: 122 bytes)
2025-06-11T04:18:12.307465858Z 2025-06-11 04:18:12,307 - main - INFO - üìù Detected text file, using UTF-8 decoding...
2025-06-11T04:18:12.307471199Z 2025-06-11 04:18:12,307 - main - INFO - ‚úÖ UTF-8 decoding successful: 122 characters
2025-06-11T04:18:12.308102754Z 2025-06-11 04:18:12,307 - main - INFO - ‚úÖ Step 2 complete: Extracted 122 characters
2025-06-11T04:18:12.308115025Z 2025-06-11 04:18:12,307 - main - INFO - üÜî Generated document ID: 97a75cf4-fef7-4d8e-9542-7e5174e49195
2025-06-11T04:18:12.308117435Z 2025-06-11 04:18:12,307 - main - INFO - ‚úÇÔ∏è  Step 3: Chunking text (length: 122)...
2025-06-11T04:18:12.309485249Z 2025-06-11 04:18:12,308 - main - INFO - ‚úÖ Step 3 complete: Created 1 chunks from document
2025-06-11T04:18:12.309495149Z 2025-06-11 04:18:12,308 - main - INFO - üß† Step 4: Loading embedding model...
2025-06-11T04:18:12.309497539Z 2025-06-11 04:18:12,308 - main - INFO - Available memory: 10490MB
2025-06-11T04:18:12.309499469Z 2025-06-11 04:18:12,308 - main - INFO - Loading SBERT model: all-MiniLM-L6-v2...
2025-06-11T04:18:12.309501879Z 2025-06-11 04:18:12,308 - main - WARNING - ‚ö†Ô∏è Using mock embedding model for LlamaCloud migration
2025-06-11T04:18:12.309503549Z 2025-06-11 04:18:12,308 - main - INFO - ‚úÖ Step 4 complete: Embedding model loaded
2025-06-11T04:18:12.309505299Z 2025-06-11 04:18:12,308 - main - INFO - üóÑÔ∏è  Step 5: Connecting to database...
2025-06-11T04:18:12.309506999Z 2025-06-11 04:18:12,308 - main - INFO - ‚úÖ Step 5 complete: Database connection established
2025-06-11T04:18:12.309508739Z 2025-06-11 04:18:12,309 - main - INFO - üîÑ Step 6: Processing 1 chunks for embeddings...
2025-06-11T04:18:12.309510529Z 2025-06-11 04:18:12,309 - main - INFO - üìä Document processing breakdown:
2025-06-11T04:18:12.309512319Z 2025-06-11 04:18:12,309 - main - INFO -    ‚Ä¢ Total text: 122 characters
2025-06-11T04:18:12.309514469Z 2025-06-11 04:18:12,309 - main - INFO -    ‚Ä¢ Chunk size: 1 pieces
2025-06-11T04:18:12.309517249Z 2025-06-11 04:18:12,309 - main - INFO -    ‚Ä¢ Estimated time: 0.5 seconds
2025-06-11T04:18:12.330998661Z 2025-06-11 04:18:12,330 - main - INFO -   üéØ Milestone: 10% complete (1/1 chunks)
2025-06-11T04:18:12.331108894Z 2025-06-11 04:18:12,330 - main - INFO -      ‚è±Ô∏è Estimated time remaining: 0.0 seconds
2025-06-11T04:18:12.331123555Z 2025-06-11 04:18:12,330 - main - INFO -      üìù Current chunk: 122 characters
2025-06-11T04:18:12.495356072Z 2025-06-11 04:18:12,493 - main - WARNING -   ‚ö†Ô∏è Database error for chunk 1: expected 1536 dimensions, not 384
2025-06-11T04:18:12.515898251Z 2025-06-11 04:18:12,515 - main - INFO - üéâ Step 6 complete: Successfully stored 0 vectors for document 97a75cf4-fef7-4d8e-9542-7e5174e49195
2025-06-11T04:18:12.515930891Z 2025-06-11 04:18:12,515 - main - WARNING - ‚ö†Ô∏è 1 chunks failed processing (success rate: 0.0%)
2025-06-11T04:18:12.515938842Z 2025-06-11 04:18:12,515 - main - INFO - ‚úÖ Upload complete: {'success': True, 'document_id': '97a75cf4-fef7-4d8e-9542-7e5174e49195', 'filename': 'test_small_document.txt', 'chunks_processed': 0, 'chunks_failed': 1, 'total_chunks': 1, 'success_rate': 0.0, 'text_length': 122, 'file_size': 122, 'processing_time': '~0.5s estimated', 'message': 'Successfully uploaded and vectorized test_small_document.txt (0.0% success rate)'}
2025-06-11T04:18:12.516622689Z INFO:     10.220.221.111:0 - "POST /upload-policy HTTP/1.1" 200 OK
2025-06-11T04:18:14.027808144Z INFO:     10.219.26.96:48390 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:19.027772451Z INFO:     10.219.26.96:37956 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:24.028691633Z INFO:     10.219.26.96:37962 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:24.029199035Z INFO:     10.219.26.96:37960 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:29.027328249Z INFO:     10.219.26.96:44200 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:34.028190861Z INFO:     10.219.26.96:44202 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:39.094226609Z INFO:     10.219.26.96:47542 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:44.027628232Z INFO:     10.219.26.96:47544 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:49.030283581Z INFO:     10.219.26.96:39716 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:50.799478608Z 2025-06-11 04:18:50,799 - main - INFO - üöÄ Starting document upload for user b6a80398-0323-4622-ad3a-7e1b1ba56877: scan_classic_hmo.pdf
2025-06-11T04:18:50.799513659Z 2025-06-11 04:18:50,799 - main - INFO - üìñ Step 1: Reading file data...
2025-06-11T04:18:50.802878042Z 2025-06-11 04:18:50,802 - main - INFO - ‚úÖ Step 1 complete: Read 2544678 bytes
2025-06-11T04:18:50.802908383Z 2025-06-11 04:18:50,802 - main - INFO - üîç Step 2: Extracting text content from scan_classic_hmo.pdf...
2025-06-11T04:18:50.803346754Z 2025-06-11 04:18:50,803 - main - INFO - üîç Starting text extraction from scan_classic_hmo.pdf (size: 2544678 bytes)
2025-06-11T04:18:50.803389175Z 2025-06-11 04:18:50,803 - main - INFO - üìÑ Detected PDF file, using PDF extraction...
2025-06-11T04:18:50.803403365Z 2025-06-11 04:18:50,803 - main - INFO - üìÑ Starting PDF text extraction (file size: 2544678 bytes)...
2025-06-11T04:18:50.803433876Z 2025-06-11 04:18:50,803 - main - WARNING - ‚ö†Ô∏è PDF processing temporarily disabled during LlamaCloud migration
2025-06-11T04:18:50.803466237Z 2025-06-11 04:18:50,803 - main - INFO - üìÑ Returning mock content for PDF demo
2025-06-11T04:18:50.803811435Z 2025-06-11 04:18:50,803 - main - INFO - ‚úÖ Step 2 complete: Extracted 456 characters
2025-06-11T04:18:50.803857377Z 2025-06-11 04:18:50,803 - main - INFO - üÜî Generated document ID: bcfbe00a-1e1f-43c1-94a2-091a00e058c0
2025-06-11T04:18:50.803925468Z 2025-06-11 04:18:50,803 - main - INFO - ‚úÇÔ∏è  Step 3: Chunking text (length: 456)...
2025-06-11T04:18:50.804362029Z 2025-06-11 04:18:50,804 - main - INFO - ‚úÖ Step 3 complete: Created 1 chunks from document
2025-06-11T04:18:50.804375659Z 2025-06-11 04:18:50,804 - main - INFO - üß† Step 4: Loading embedding model...
2025-06-11T04:18:50.80441907Z 2025-06-11 04:18:50,804 - main - INFO - ‚úÖ Step 4 complete: Embedding model loaded
2025-06-11T04:18:50.804437631Z 2025-06-11 04:18:50,804 - main - INFO - üóÑÔ∏è  Step 5: Connecting to database...
2025-06-11T04:18:50.804507822Z 2025-06-11 04:18:50,804 - main - INFO - ‚úÖ Step 5 complete: Database connection established
2025-06-11T04:18:50.804562674Z 2025-06-11 04:18:50,804 - main - INFO - üîÑ Step 6: Processing 1 chunks for embeddings...
2025-06-11T04:18:50.804577404Z 2025-06-11 04:18:50,804 - main - INFO - üìä Document processing breakdown:
2025-06-11T04:18:50.804644686Z 2025-06-11 04:18:50,804 - main - INFO -    ‚Ä¢ Total text: 456 characters
2025-06-11T04:18:50.804660306Z 2025-06-11 04:18:50,804 - main - INFO -    ‚Ä¢ Chunk size: 1 pieces
2025-06-11T04:18:50.804723568Z 2025-06-11 04:18:50,804 - main - INFO -    ‚Ä¢ Estimated time: 0.5 seconds
2025-06-11T04:18:50.837074279Z 2025-06-11 04:18:50,836 - main - INFO -   üéØ Milestone: 10% complete (1/1 chunks)
2025-06-11T04:18:50.83710588Z 2025-06-11 04:18:50,836 - main - INFO -      ‚è±Ô∏è Estimated time remaining: 0.0 seconds
2025-06-11T04:18:50.83712493Z 2025-06-11 04:18:50,836 - main - INFO -      üìù Current chunk: 456 characters
2025-06-11T04:18:50.88033638Z 2025-06-11 04:18:50,880 - main - WARNING -   ‚ö†Ô∏è Database error for chunk 1: expected 1536 dimensions, not 384
2025-06-11T04:18:50.901549776Z 2025-06-11 04:18:50,901 - main - INFO - üéâ Step 6 complete: Successfully stored 0 vectors for document bcfbe00a-1e1f-43c1-94a2-091a00e058c0
2025-06-11T04:18:50.901592487Z 2025-06-11 04:18:50,901 - main - WARNING - ‚ö†Ô∏è 1 chunks failed processing (success rate: 0.0%)
2025-06-11T04:18:50.901618108Z 2025-06-11 04:18:50,901 - main - INFO - ‚úÖ Upload complete: {'success': True, 'document_id': 'bcfbe00a-1e1f-43c1-94a2-091a00e058c0', 'filename': 'scan_classic_hmo.pdf', 'chunks_processed': 0, 'chunks_failed': 1, 'total_chunks': 1, 'success_rate': 0.0, 'text_length': 456, 'file_size': 2544678, 'processing_time': '~0.5s estimated', 'message': 'Successfully uploaded and vectorized scan_classic_hmo.pdf (0.0% success rate)'}
2025-06-11T04:18:50.903509934Z INFO:     10.220.230.75:0 - "POST /upload-policy HTTP/1.1" 200 OK
2025-06-11T04:18:54.02886994Z INFO:     10.219.26.96:39732 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:54.02926316Z INFO:     10.219.26.96:39730 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:18:59.028251279Z INFO:     10.219.26.96:48328 - "GET /health HTTP/1.1" 200 OK
2025-06-11T04:19:04.027329142Z INFO:     10.219.26.96:48334 - "GET /health HTTP/1.1" 200 OK