2025-06-11T14:47:37.133317086Z INFO:     10.219.25.66:43170 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:47:37.133845302Z INFO:     10.219.25.66:43172 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:47:42.132615542Z INFO:     10.219.25.66:55676 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:47:47.134702959Z INFO:     10.219.25.66:55686 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:47:52.132204717Z INFO:     10.219.25.66:54476 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:47:57.203929998Z INFO:     10.219.25.66:54492 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:02.135635938Z INFO:     10.219.25.66:38262 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:07.133458838Z INFO:     10.219.25.66:38266 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:07.13385903Z INFO:     10.219.25.66:38268 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:12.133348578Z INFO:     10.219.25.66:51910 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:17.132801397Z INFO:     10.219.25.66:51918 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:22.132788555Z INFO:     10.219.25.66:45394 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:27.132605272Z INFO:     10.219.25.66:45402 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:32.205465907Z INFO:     10.219.25.66:52162 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:37.133355691Z INFO:     10.219.25.66:52172 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:37.133746613Z INFO:     10.219.25.66:52186 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:42.133028333Z INFO:     10.219.25.66:33830 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:47.13207381Z INFO:     10.219.25.66:33838 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:52.131979987Z INFO:     10.219.25.66:41994 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:48:57.133473737Z INFO:     10.219.25.66:42004 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:02.375507577Z INFO:     10.219.25.66:46050 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:07.133869746Z INFO:     10.219.25.66:46058 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:07.134259068Z INFO:     10.219.25.66:46056 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:12.165894783Z INFO:     10.219.25.66:43338 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:17.132140764Z INFO:     10.219.25.66:43348 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:22.134168427Z INFO:     10.219.25.66:37556 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:27.13280925Z INFO:     10.219.25.66:37562 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:32.132787628Z INFO:     10.219.25.66:39814 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:37.208189706Z INFO:     10.219.25.66:39824 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:37.210001001Z INFO:     10.219.25.66:39826 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:42.132499197Z INFO:     10.219.25.66:44670 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:47.132670281Z INFO:     10.219.25.66:44680 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:52.133297653Z INFO:     10.219.25.66:48712 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:49:57.132494254Z INFO:     10.219.25.66:48728 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:02.133231137Z INFO:     10.219.25.66:48232 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:07.133912531Z INFO:     10.219.25.66:48238 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:07.204871069Z INFO:     10.219.25.66:48246 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:12.132566867Z INFO:     10.219.25.66:52562 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:17.136602322Z INFO:     10.219.25.66:52564 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:22.133297705Z INFO:     10.219.25.66:37286 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:27.133027384Z INFO:     10.219.25.66:37288 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:32.132381876Z INFO:     10.219.25.66:47230 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:37.13332679Z INFO:     10.219.25.66:47232 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:37.133754473Z INFO:     10.219.25.66:47244 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:42.202806362Z INFO:     10.219.25.66:51836 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:47.133196319Z INFO:     10.219.25.66:51850 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:48.233753523Z INFO:     10.220.221.111:0 - "OPTIONS /login HTTP/1.1" 200 OK
2025-06-11T14:50:48.443782858Z 2025-06-11 14:50:48,440 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
2025-06-11T14:50:48.443805419Z Traceback (most recent call last):
2025-06-11T14:50:48.443809949Z   File "/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
2025-06-11T14:50:48.443814239Z     version = _bcrypt.__about__.__version__
2025-06-11T14:50:48.443818489Z               ^^^^^^^^^^^^^^^^^
2025-06-11T14:50:48.443822739Z AttributeError: module 'bcrypt' has no attribute '__about__'
2025-06-11T14:50:50.316554729Z 2025-06-11 14:50:50,316 - db.services.user_service - INFO - User authenticated successfully: deploymenttest@example.com
2025-06-11T14:50:50.342318309Z 2025-06-11 14:50:50,342 - main - INFO - User logged in: deploymenttest@example.com
2025-06-11T14:50:50.347160018Z INFO:     10.220.230.75:0 - "POST /login HTTP/1.1" 200 OK
2025-06-11T14:50:51.180517101Z INFO:     10.220.221.111:0 - "OPTIONS /me HTTP/1.1" 200 OK
2025-06-11T14:50:51.418029489Z INFO:     10.220.230.75:0 - "GET /me HTTP/1.1" 200 OK
2025-06-11T14:50:52.13268961Z INFO:     10.219.25.66:46794 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:50:57.133425163Z INFO:     10.219.25.66:46800 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:51:00.181300167Z INFO:     10.220.63.148:0 - "OPTIONS /upload-policy HTTP/1.1" 200 OK
2025-06-11T14:51:00.44798159Z 2025-06-11 14:51:00,447 - main - INFO - ğŸš€ Starting document upload for user b6a80398-0323-4622-ad3a-7e1b1ba56877: test_small_document.txt
2025-06-11T14:51:00.448593808Z 2025-06-11 14:51:00,448 - main - INFO - ğŸ“– Step 1: Reading file data...
2025-06-11T14:51:00.448609329Z 2025-06-11 14:51:00,448 - main - INFO - âœ… Step 1 complete: Read 122 bytes
2025-06-11T14:51:00.448615969Z 2025-06-11 14:51:00,448 - main - INFO - ğŸ” Step 2: Extracting text content from test_small_document.txt...
2025-06-11T14:51:00.457033747Z 2025-06-11 14:51:00,456 - main - INFO - ğŸ” Starting text extraction from test_small_document.txt (size: 122 bytes)
2025-06-11T14:51:00.457058418Z 2025-06-11 14:51:00,456 - main - INFO - ğŸ“ Detected text file, using UTF-8 decoding...
2025-06-11T14:51:00.457061508Z 2025-06-11 14:51:00,457 - main - INFO - âœ… UTF-8 decoding successful: 122 characters
2025-06-11T14:51:00.457730569Z 2025-06-11 14:51:00,457 - main - INFO - âœ… Step 2 complete: Extracted 122 characters
2025-06-11T14:51:00.45778134Z 2025-06-11 14:51:00,457 - main - INFO - ğŸ†” Generated document ID: 5577ae92-250c-458a-805b-b96f270d64bf
2025-06-11T14:51:00.45778555Z 2025-06-11 14:51:00,457 - main - INFO - âœ‚ï¸  Step 3: Chunking text (length: 122)...
2025-06-11T14:51:00.466222039Z 2025-06-11 14:51:00,465 - main - INFO - âœ… Step 3 complete: Created 1 chunks from document
2025-06-11T14:51:00.466318002Z 2025-06-11 14:51:00,466 - main - INFO - ğŸ§  Step 4: Loading embedding model...
2025-06-11T14:51:00.466704014Z 2025-06-11 14:51:00,466 - main - INFO - Available memory: 6219MB
2025-06-11T14:51:00.466849419Z 2025-06-11 14:51:00,466 - main - INFO - Loading SBERT model: all-MiniLM-L6-v2...
2025-06-11T14:51:00.466912261Z 2025-06-11 14:51:00,466 - main - WARNING - âš ï¸ Using mock embedding model for LlamaCloud migration (1536D)
2025-06-11T14:51:00.466965932Z 2025-06-11 14:51:00,466 - main - INFO - âœ… Step 4 complete: Embedding model loaded
2025-06-11T14:51:00.467035374Z 2025-06-11 14:51:00,466 - main - INFO - ğŸ—„ï¸  Step 5: Connecting to database...
2025-06-11T14:51:00.467056335Z 2025-06-11 14:51:00,467 - main - INFO - âœ… Step 5 complete: Database connection established
2025-06-11T14:51:00.467665224Z 2025-06-11 14:51:00,467 - main - INFO - ğŸ”„ Step 6: Processing 1 chunks for embeddings...
2025-06-11T14:51:00.467678684Z 2025-06-11 14:51:00,467 - main - INFO - ğŸ“Š Document processing breakdown:
2025-06-11T14:51:00.467682014Z 2025-06-11 14:51:00,467 - main - INFO -    â€¢ Total text: 122 characters
2025-06-11T14:51:00.467684644Z 2025-06-11 14:51:00,467 - main - INFO -    â€¢ Chunk size: 1 pieces
2025-06-11T14:51:00.467687364Z 2025-06-11 14:51:00,467 - main - INFO -    â€¢ Estimated time: 0.5 seconds
2025-06-11T14:51:00.492287409Z 2025-06-11 14:51:00,492 - main - INFO -   ğŸ¯ Milestone: 10% complete (1/1 chunks)
2025-06-11T14:51:00.492556457Z 2025-06-11 14:51:00,492 - main - INFO -      â±ï¸ Estimated time remaining: 0.0 seconds
2025-06-11T14:51:00.492573658Z 2025-06-11 14:51:00,492 - main - INFO -      ğŸ“ Current chunk: 122 characters
2025-06-11T14:51:00.620651918Z 2025-06-11 14:51:00,620 - main - INFO -     ğŸ“Š Generated 1536D embedding for chunk 1
2025-06-11T14:51:00.620759691Z 2025-06-11 14:51:00,620 - main - INFO -     âœ… Dimension validation passed: 1536D matches schema
2025-06-11T14:51:00.667814695Z 2025-06-11 14:51:00,667 - main - INFO -     ğŸ” Using encryption key: 6b892ba1...
2025-06-11T14:51:01.025376317Z 2025-06-11 14:51:01,025 - main - INFO - ğŸ‰ Step 6 complete: Successfully stored 1 vectors for document 5577ae92-250c-458a-805b-b96f270d64bf
2025-06-11T14:51:01.025425638Z 2025-06-11 14:51:01,025 - main - INFO - âœ… Upload complete: {'success': True, 'document_id': '5577ae92-250c-458a-805b-b96f270d64bf', 'filename': 'test_small_document.txt', 'chunks_processed': 1, 'chunks_failed': 0, 'total_chunks': 1, 'success_rate': 100.0, 'text_length': 122, 'file_size': 122, 'processing_time': '~0.5s estimated', 'message': 'Successfully uploaded and vectorized test_small_document.txt (100.0% success rate)'}
2025-06-11T14:51:01.036205659Z INFO:     10.220.230.75:0 - "POST /upload-policy HTTP/1.1" 200 OK
2025-06-11T14:51:02.1322384Z INFO:     10.219.25.66:58416 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:51:07.134224079Z INFO:     10.219.25.66:58420 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:51:07.135061454Z INFO:     10.219.25.66:58422 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:51:12.132154376Z INFO:     10.219.25.66:44534 - "GET /health HTTP/1.1" 200 OK
2025-06-11T14:51:14.714776775Z 2025-06-11 14:51:14,714 - main - INFO - ğŸš€ Starting document upload for user b6a80398-0323-4622-ad3a-7e1b1ba56877: scan_classic_hmo.pdf
2025-06-11T14:51:14.714800276Z 2025-06-11 14:51:14,714 - main - INFO - ğŸ“– Step 1: Reading file data...
2025-06-11T14:51:14.721386228Z 2025-06-11 14:51:14,721 - main - INFO - âœ… Step 1 complete: Read 2544678 bytes
2025-06-11T14:51:14.72144989Z 2025-06-11 14:51:14,721 - main - INFO - ğŸ” Step 2: Extracting text content from scan_classic_hmo.pdf...
2025-06-11T14:51:14.722942426Z 2025-06-11 14:51:14,722 - main - INFO - ğŸ” Starting text extraction from scan_classic_hmo.pdf (size: 2544678 bytes)
2025-06-11T14:51:14.723640147Z 2025-06-11 14:51:14,723 - main - INFO - ğŸ“„ Detected PDF file, using PDF extraction...
2025-06-11T14:51:14.72371596Z 2025-06-11 14:51:14,723 - main - INFO - ğŸ“„ Starting PDF text extraction (file size: 2544678 bytes)...
2025-06-11T14:51:23.175097977Z 2025-06-11 14:51:23,124 - main - INFO - ğŸ“„ PDF loaded, found 232 pages
2025-06-11T14:51:23.336171279Z 2025-06-11 14:51:23,234 - main - INFO - ğŸ“„ Processing page 1/232...
2025-06-11T14:51:30.644008758Z 2025-06-11 14:51:30,610 - main - WARNING - âš ï¸ Health check: Database connection timeout
2025-06-11T14:51:31.121986891Z 2025-06-11 14:51:31,067 - main - WARNING - âš ï¸ Health check: Database connection timeout
2025-06-11T14:51:32.308378655Z 2025-06-11 14:51:32,196 - main - INFO - ğŸ“„ Page 1 processed: 113 characters extracted
2025-06-11T14:51:32.381018434Z 2025-06-11 14:51:32,314 - main - INFO - ğŸ“„ Processing page 2/232...
2025-06-11T14:51:32.939265849Z 2025-06-11 14:51:32,860 - main - INFO - ğŸ“„ Page 2 processed: 0 characters extracted
2025-06-11T14:51:33.054718251Z 2025-06-11 14:51:32,950 - main - INFO - ğŸ“„ Processing page 3/232...
2025-06-11T14:51:42.713823895Z 2025-06-11 14:51:42,622 - main - INFO - ğŸ“„ Page 3 processed: 1925 characters extracted
2025-06-11T14:51:42.80917708Z 2025-06-11 14:51:42,730 - main - INFO - ğŸ“„ Processing page 4/232...
2025-06-11T14:52:12.19556839Z 2025-06-11 14:52:12,039 - main - WARNING - âš ï¸ Health check: Database connection timeout
2025-06-11T14:52:26.866984423Z ==> Detected service running on port 10000
2025-06-11T14:52:27.091506196Z ==> Docs on specifying a port: https://render.com/docs/web-services#port-binding
2025-06-11T14:52:45.035486748Z 2025-06-11 14:52:44,826 - main - WARNING - âš ï¸ Health check: Database connection timeout
2025-06-11T14:52:46.637629567Z 2025-06-11 14:52:46,586 - main - INFO - ğŸ“„ Page 4 processed: 3693 characters extracted
2025-06-11T14:52:46.707380636Z 2025-06-11 14:52:46,673 - main - INFO - ğŸ“„ Processing page 5/232...
2025-06-11T14:52:47.119449479Z 2025-06-11 14:52:47,082 - main - INFO - ğŸ“„ Page 5 processed: 3304 characters extracted
2025-06-11T14:52:47.211569653Z 2025-06-11 14:52:47,126 - main - INFO - ğŸ“„ Processing page 6/232...
2025-06-11T14:52:47.902090193Z 2025-06-11 14:52:47,827 - main - INFO - ğŸ“„ Page 6 processed: 3391 characters extracted
2025-06-11T14:52:47.979740604Z 2025-06-11 14:52:47,905 - main - INFO - ğŸ“„ Processing page 7/232...
2025-06-11T14:52:48.540712322Z 2025-06-11 14:52:48,498 - main - INFO - ğŸ“„ Page 7 processed: 752 characters extracted
2025-06-11T14:52:48.611499332Z 2025-06-11 14:52:48,548 - main - INFO - ğŸ“„ Processing page 8/232...
2025-06-11T14:52:49.20018794Z 2025-06-11 14:52:49,124 - main - INFO - ğŸ“„ Page 8 processed: 40 characters extracted
2025-06-11T14:52:49.250867524Z 2025-06-11 14:52:49,207 - main - INFO - ğŸ“„ Processing page 9/232...
2025-06-11T14:52:50.024563873Z 2025-06-11 14:52:49,941 - main - INFO - ğŸ“„ Page 9 processed: 2614 characters extracted
2025-06-11T14:52:50.095274051Z 2025-06-11 14:52:50,028 - main - INFO - ğŸ“„ Processing page 10/232...
2025-06-11T14:52:50.847239854Z 2025-06-11 14:52:50,512 - main - INFO - ğŸ“„ Page 10 processed: 2146 characters extracted
2025-06-11T14:52:51.407680266Z 2025-06-11 14:52:50,992 - main - INFO - ğŸ“„ Processing page 11/232...
2025-06-11T14:52:52.49567934Z 2025-06-11 14:52:52,398 - main - INFO - ğŸ“„ Page 11 processed: 2006 characters extracted
2025-06-11T14:52:52.588140155Z 2025-06-11 14:52:52,507 - main - INFO - ğŸ“„ Processing page 12/232...
2025-06-11T14:53:03.32084425Z 2025-06-11 14:53:03,223 - main - INFO - ğŸ“„ Page 12 processed: 2404 characters extracted
2025-06-11T14:53:03.450434503Z 2025-06-11 14:53:03,343 - main - INFO - ğŸ“„ Processing page 13/232...
2025-06-11T14:53:14.387119172Z 2025-06-11 14:53:14,316 - main - INFO - ğŸ“„ Page 13 processed: 2847 characters extracted
2025-06-11T14:53:14.440472248Z 2025-06-11 14:53:14,392 - main - INFO - ğŸ“„ Processing page 14/232...
2025-06-11T14:53:15.952909846Z 2025-06-11 14:53:15,896 - main - INFO - ğŸ“„ Page 14 processed: 3026 characters extracted
2025-06-11T14:53:16.069325184Z 2025-06-11 14:53:15,985 - main - INFO - ğŸ“„ Processing page 15/232...
2025-06-11T14:53:16.910021522Z 2025-06-11 14:53:16,855 - main - INFO - ğŸ“„ Page 15 processed: 2655 characters extracted
2025-06-11T14:53:17.020188969Z 2025-06-11 14:53:16,915 - main - INFO - ğŸ“„ Processing page 16/232...
2025-06-11T14:53:18.552964319Z 2025-06-11 14:53:18,484 - main - INFO - ğŸ“„ Page 16 processed: 3095 characters extracted
2025-06-11T14:53:18.632213458Z 2025-06-11 14:53:18,569 - main - INFO - ğŸ“„ Processing page 17/232...
2025-06-11T14:53:20.520950579Z 2025-06-11 14:53:20,449 - main - INFO - ğŸ“„ Page 17 processed: 3142 characters extracted
2025-06-11T14:53:20.637392857Z 2025-06-11 14:53:20,536 - main - INFO - ğŸ“„ Processing page 18/232...
2025-06-11T14:53:30.705370127Z 2025-06-11 14:53:30,607 - main - INFO - ğŸ“„ Page 18 processed: 2803 characters extracted
2025-06-11T14:53:30.811317314Z 2025-06-11 14:53:30,718 - main - INFO - ğŸ“„ Processing page 19/232...
2025-06-11T14:53:40.248936073Z 2025-06-11 14:53:40,118 - main - INFO - ğŸ“„ Page 19 processed: 1512 characters extracted
2025-06-11T14:53:40.402934652Z 2025-06-11 14:53:40,304 - main - INFO - ğŸ“„ Processing page 20/232...