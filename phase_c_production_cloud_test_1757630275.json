{
  "test_timestamp": "2025-09-11T15:37:53.770419",
  "phase": "C",
  "test_name": "Phase C: Production Cloud Backend Testing",
  "configuration": {
    "backend": "production_cloud",
    "database": "production_supabase",
    "environment": "production_cloud_testing"
  },
  "tests": {
    "production_cloud_health": {
      "status": "PASS",
      "details": {
        "status_code": 200,
        "health_data": {
          "status": "healthy",
          "timestamp": "2025-09-11T22:37:53.945310",
          "services": {
            "database": "healthy",
            "supabase_auth": "healthy",
            "llamaparse": "healthy",
            "openai": "healthy"
          },
          "version": "3.0.0"
        },
        "all_services_healthy": true,
        "response_time_ms": "unknown"
      }
    },
    "authentication_system": {
      "status": "FAIL",
      "details": {
        "error": "Signup failed with status 422",
        "response_data": {
          "detail": [
            {
              "type": "missing",
              "loc": [
                "body",
                "consent_version"
              ],
              "msg": "Field required",
              "input": {
                "email": "test_user_1757630273@example.com",
                "password": "TestPassword123!",
                "confirm_password": "TestPassword123!"
              },
              "url": "https://errors.pydantic.dev/2.6/v/missing"
            },
            {
              "type": "missing",
              "loc": [
                "body",
                "consent_timestamp"
              ],
              "msg": "Field required",
              "input": {
                "email": "test_user_1757630273@example.com",
                "password": "TestPassword123!",
                "confirm_password": "TestPassword123!"
              },
              "url": "https://errors.pydantic.dev/2.6/v/missing"
            }
          ]
        }
      }
    },
    "uuid_generation_production_cloud": {
      "status": "PASS",
      "details": {
        "document_uuid": "a4741e11-5d78-5ab5-8b7e-fd361ee4df1f",
        "chunk_uuid": "6f2fad55-099e-5286-8dc7-059ae88aa400",
        "job_uuid": "d06f74cf-90fe-4735-9278-cff8a357a7cd",
        "document_valid": true,
        "chunk_valid": true,
        "job_valid": true,
        "retrieved_uuid": "a4741e11-5d78-5ab5-8b7e-fd361ee4df1f",
        "is_consistent": true,
        "database_operations_successful": true
      }
    },
    "end_to_end_upload_pipeline": {
      "status": "SKIP",
      "details": {
        "error": "No access token available for authentication"
      }
    },
    "chat_endpoint_uuid_context": {
      "status": "SKIP",
      "details": {
        "error": "No access token available for authentication"
      }
    },
    "multi_user_uuid_isolation": {
      "status": "PASS",
      "details": {
        "generated_uuids": [
          {
            "user_id": "550e8400-e29b-41d4-a716-446655440001",
            "uuid": "10585c40-97e6-5f9f-b073-99f7888c46fd"
          },
          {
            "user_id": "550e8400-e29b-41d4-a716-446655440002",
            "uuid": "ca73a798-ae7d-5f0d-846c-a0d7cbac4af0"
          },
          {
            "user_id": "550e8400-e29b-41d4-a716-446655440003",
            "uuid": "d5d18a14-1383-51ec-95bd-0f980e8b8610"
          }
        ],
        "unique_uuids": 3,
        "is_isolated": true,
        "all_stored": true,
        "all_consistent": true,
        "stored_uuids": [
          "10585c40-97e6-5f9f-b073-99f7888c46fd",
          "ca73a798-ae7d-5f0d-846c-a0d7cbac4af0",
          "d5d18a14-1383-51ec-95bd-0f980e8b8610"
        ]
      }
    },
    "performance_production_cloud": {
      "status": "PASS",
      "details": {
        "uuid_generation": {
          "time_seconds": 0.002832174301147461,
          "threshold_seconds": 1.0,
          "uuids_generated": 100,
          "meets_threshold": true
        },
        "cloud_response": {
          "skipped": "No authentication available"
        }
      }
    },
    "error_handling_recovery": {
      "status": "FAIL",
      "details": {
        "uuid_validation": {
          "results": [
            {
              "uuid": "invalid-uuid",
              "is_valid": false,
              "expected_valid": false
            },
            {
              "uuid": "not-a-uuid",
              "is_valid": false,
              "expected_valid": false
            },
            {
              "uuid": "",
              "is_valid": false,
              "expected_valid": false
            },
            {
              "uuid": null,
              "is_valid": false,
              "expected_valid": false
            }
          ],
          "all_correct": true
        },
        "cloud_error_handling": {
          "invalid_endpoint_handled": false,
          "invalid_auth_handled": false
        }
      }
    },
    "database_consistency_validation": {
      "status": "PASS",
      "details": {
        "schema_validation": {
          "schema_columns": [
            "document_id",
            "user_id",
            "filename",
            "mime",
            "bytes_len",
            "file_sha256",
            "parsed_sha256",
            "raw_path",
            "parsed_path",
            "processing_status",
            "created_at",
            "updated_at"
          ],
          "required_columns": [
            "document_id",
            "user_id",
            "file_sha256",
            "processing_status",
            "created_at"
          ],
          "missing_columns": [],
          "has_required_columns": true,
          "document_id_type": "uuid",
          "user_id_type": "uuid",
          "correct_types": true
        },
        "consistency_test": {
          "test_uuid": "19cf8d0b-5a1d-588d-853d-fcc6a6d38cec",
          "retrieved_uuid": "19cf8d0b-5a1d-588d-853d-fcc6a6d38cec",
          "consistency_ok": true
        },
        "full_schema": [
          {
            "column_name": "document_id",
            "data_type": "uuid",
            "is_nullable": "NO"
          },
          {
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO"
          },
          {
            "column_name": "filename",
            "data_type": "text",
            "is_nullable": "NO"
          },
          {
            "column_name": "mime",
            "data_type": "text",
            "is_nullable": "NO"
          },
          {
            "column_name": "bytes_len",
            "data_type": "bigint",
            "is_nullable": "NO"
          },
          {
            "column_name": "file_sha256",
            "data_type": "text",
            "is_nullable": "NO"
          },
          {
            "column_name": "parsed_sha256",
            "data_type": "text",
            "is_nullable": "YES"
          },
          {
            "column_name": "raw_path",
            "data_type": "text",
            "is_nullable": "NO"
          },
          {
            "column_name": "parsed_path",
            "data_type": "text",
            "is_nullable": "YES"
          },
          {
            "column_name": "processing_status",
            "data_type": "text",
            "is_nullable": "YES"
          },
          {
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES"
          },
          {
            "column_name": "updated_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES"
          }
        ]
      }
    }
  },
  "summary": {
    "total_tests": 7,
    "passed": 5,
    "failed": 2,
    "critical_failures": 2
  }
}