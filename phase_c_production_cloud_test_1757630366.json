{
  "test_timestamp": "2025-09-11T15:39:19.122807",
  "phase": "C",
  "test_name": "Phase C: Production Cloud Backend Testing",
  "configuration": {
    "backend": "production_cloud",
    "database": "production_supabase",
    "environment": "production_cloud_testing"
  },
  "tests": {
    "production_cloud_health": {
      "status": "PASS",
      "details": {
        "status_code": 200,
        "health_data": {
          "status": "healthy",
          "timestamp": "2025-09-11T22:38:59.818341",
          "services": {
            "database": "healthy",
            "supabase_auth": "healthy",
            "llamaparse": "healthy",
            "openai": "healthy"
          },
          "version": "3.0.0"
        },
        "all_services_healthy": true,
        "response_time_ms": "unknown"
      }
    },
    "authentication_system": {
      "status": "PASS",
      "details": {
        "signup_status": 201,
        "login_status": 200,
        "user_id": null,
        "token_valid": true,
        "signup_response": {
          "user": {
            "id": "154a55c3-7b58-41a3-ab9d-0eb28ab420b3",
            "email": "test_user_1757630359@example.com",
            "name": "test_user_1757630359"
          },
          "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxNTRhNTVjMy03YjU4LTQxYTMtYWI5ZC0wZWIyOGFiNDIwYjMiLCJlbWFpbCI6InRlc3RfdXNlcl8xNzU3NjMwMzU5QGV4YW1wbGUuY29tIiwiZXhwIjoxNzU3NzE2NzU5LCJpYXQiOjE3NTc2MzAzNTksImlzcyI6Imluc3VyYW5jZS1uYXZpZ2F0b3ItbWluaW1hbC1hdXRoIiwiYXVkIjoiaW5zdXJhbmNlLW5hdmlnYXRvci11c2VycyJ9.ugkysN_KGff0wLhWVlpRhPAXaYslZhikrFQxmrCiPvA",
          "token_type": "bearer"
        },
        "login_response": {
          "user": {
            "id": "d69e4f28-a95a-4dd9-aa84-ab4825591551",
            "email": "test_user_1757630359@example.com",
            "name": "test_user_1757630359"
          },
          "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkNjllNGYyOC1hOTVhLTRkZDktYWE4NC1hYjQ4MjU1OTE1NTEiLCJlbWFpbCI6InRlc3RfdXNlcl8xNzU3NjMwMzU5QGV4YW1wbGUuY29tIiwiZXhwIjoxNzU3NzE2NzU5LCJpYXQiOjE3NTc2MzAzNTksImlzcyI6Imluc3VyYW5jZS1uYXZpZ2F0b3ItbWluaW1hbC1hdXRoIiwiYXVkIjoiaW5zdXJhbmNlLW5hdmlnYXRvci11c2VycyJ9.I-t3ROLbFNzVc7pi6IymzImjbUJjMwnFWqkKGWEe9KE",
          "token_type": "bearer"
        }
      }
    },
    "uuid_generation_production_cloud": {
      "status": "PASS",
      "details": {
        "document_uuid": "a4741e11-5d78-5ab5-8b7e-fd361ee4df1f",
        "chunk_uuid": "6f2fad55-099e-5286-8dc7-059ae88aa400",
        "job_uuid": "49f4b887-ee27-490a-8319-75646293cdb2",
        "document_valid": true,
        "chunk_valid": true,
        "job_valid": true,
        "retrieved_uuid": "a4741e11-5d78-5ab5-8b7e-fd361ee4df1f",
        "is_consistent": true,
        "database_operations_successful": true
      }
    },
    "end_to_end_upload_pipeline": {
      "status": "PASS",
      "details": {
        "status_code": 422,
        "validation_working": true,
        "response_data": {
          "detail": [
            {
              "type": "missing",
              "loc": [
                "body",
                "bytes_len"
              ],
              "msg": "Field required",
              "input": {
                "filename": "test_document.pdf",
                "mime_type": "application/pdf"
              },
              "url": "https://errors.pydantic.dev/2.6/v/missing"
            },
            {
              "type": "missing",
              "loc": [
                "body",
                "mime"
              ],
              "msg": "Field required",
              "input": {
                "filename": "test_document.pdf",
                "mime_type": "application/pdf"
              },
              "url": "https://errors.pydantic.dev/2.6/v/missing"
            },
            {
              "type": "missing",
              "loc": [
                "body",
                "sha256"
              ],
              "msg": "Field required",
              "input": {
                "filename": "test_document.pdf",
                "mime_type": "application/pdf"
              },
              "url": "https://errors.pydantic.dev/2.6/v/missing"
            }
          ]
        },
        "endpoint_accessible": true
      }
    },
    "chat_endpoint_uuid_context": {
      "status": "PASS",
      "details": {
        "status_code": 200,
        "conversation_id": "conv_1757630365",
        "timestamp": "2025-09-11T22:39:25.602811",
        "has_response": true,
        "response_valid": true,
        "response_data": {
          "text": "I'm sorry, but I wasn't able to find any relevant information in the available documents to address your request. Insurance can be complex, and sometimes the information we need isn't readily available. However, I'm here to help you understand your coverage and options. \n\nPlease feel free to provide me with more details about what you're looking for, and I'll do my best to assist you or connect you with someone who can. My goal is to provide you with the support and guidance you need, so don't hesitate to ask for clarification or additional help.",
          "response": "I'm sorry, but I wasn't able to find any relevant information in the available documents to address your request. Insurance can be complex, and sometimes the information we need isn't readily available. However, I'm here to help you understand your coverage and options. \n\nPlease feel free to provide me with more details about what you're looking for, and I'll do my best to assist you or connect you with someone who can. My goal is to provide you with the support and guidance you need, so don't hesitate to ask for clarification or additional help.",
          "conversation_id": "conv_1757630365",
          "timestamp": "2025-09-11T22:39:25.602811",
          "metadata": {
            "processing_time": 5.016448259353638,
            "confidence": 0.9,
            "agent_sources": [
              "information_retrieval"
            ],
            "input_processing": {
              "original_language": "auto",
              "translation_applied": false
            },
            "agent_processing": {
              "agents_used": [
                "information_retrieval"
              ],
              "processing_time_ms": 5016
            },
            "output_formatting": {
              "tone_applied": "empathetic",
              "readability_level": "8th_grade",
              "next_steps_included": false
            }
          },
          "next_steps": [],
          "sources": [
            "information_retrieval"
          ]
        }
      }
    },
    "multi_user_uuid_isolation": {
      "status": "PASS",
      "details": {
        "generated_uuids": [
          {
            "user_id": "550e8400-e29b-41d4-a716-446655440001",
            "uuid": "10585c40-97e6-5f9f-b073-99f7888c46fd"
          },
          {
            "user_id": "550e8400-e29b-41d4-a716-446655440002",
            "uuid": "ca73a798-ae7d-5f0d-846c-a0d7cbac4af0"
          },
          {
            "user_id": "550e8400-e29b-41d4-a716-446655440003",
            "uuid": "d5d18a14-1383-51ec-95bd-0f980e8b8610"
          }
        ],
        "unique_uuids": 3,
        "is_isolated": true,
        "all_stored": true,
        "all_consistent": true,
        "stored_uuids": [
          "10585c40-97e6-5f9f-b073-99f7888c46fd",
          "ca73a798-ae7d-5f0d-846c-a0d7cbac4af0",
          "d5d18a14-1383-51ec-95bd-0f980e8b8610"
        ]
      }
    },
    "performance_production_cloud": {
      "status": "PASS",
      "details": {
        "uuid_generation": {
          "time_seconds": 0.0017521381378173828,
          "threshold_seconds": 1.0,
          "uuids_generated": 100,
          "meets_threshold": true
        },
        "cloud_response": {
          "time_seconds": 0.17336010932922363,
          "threshold_seconds": 5.0,
          "status_code": 200,
          "meets_threshold": true
        }
      }
    },
    "error_handling_recovery": {
      "status": "PASS",
      "details": {
        "uuid_validation": {
          "results": [
            {
              "uuid": "invalid-uuid",
              "is_valid": false,
              "expected_valid": false
            },
            {
              "uuid": "not-a-uuid",
              "is_valid": false,
              "expected_valid": false
            },
            {
              "uuid": "",
              "is_valid": false,
              "expected_valid": false
            },
            {
              "uuid": null,
              "is_valid": false,
              "expected_valid": false
            }
          ],
          "all_correct": true
        },
        "cloud_error_handling": {
          "invalid_endpoint_handled": true,
          "invalid_auth_handled": true
        }
      }
    },
    "database_consistency_validation": {
      "status": "PASS",
      "details": {
        "schema_validation": {
          "schema_columns": [
            "document_id",
            "user_id",
            "filename",
            "mime",
            "bytes_len",
            "file_sha256",
            "parsed_sha256",
            "raw_path",
            "parsed_path",
            "processing_status",
            "created_at",
            "updated_at"
          ],
          "required_columns": [
            "document_id",
            "user_id",
            "file_sha256",
            "processing_status",
            "created_at"
          ],
          "missing_columns": [],
          "has_required_columns": true,
          "document_id_type": "uuid",
          "user_id_type": "uuid",
          "correct_types": true
        },
        "consistency_test": {
          "test_uuid": "19cf8d0b-5a1d-588d-853d-fcc6a6d38cec",
          "retrieved_uuid": "19cf8d0b-5a1d-588d-853d-fcc6a6d38cec",
          "consistency_ok": true
        },
        "full_schema": [
          {
            "column_name": "document_id",
            "data_type": "uuid",
            "is_nullable": "NO"
          },
          {
            "column_name": "user_id",
            "data_type": "uuid",
            "is_nullable": "NO"
          },
          {
            "column_name": "filename",
            "data_type": "text",
            "is_nullable": "NO"
          },
          {
            "column_name": "mime",
            "data_type": "text",
            "is_nullable": "NO"
          },
          {
            "column_name": "bytes_len",
            "data_type": "bigint",
            "is_nullable": "NO"
          },
          {
            "column_name": "file_sha256",
            "data_type": "text",
            "is_nullable": "NO"
          },
          {
            "column_name": "parsed_sha256",
            "data_type": "text",
            "is_nullable": "YES"
          },
          {
            "column_name": "raw_path",
            "data_type": "text",
            "is_nullable": "NO"
          },
          {
            "column_name": "parsed_path",
            "data_type": "text",
            "is_nullable": "YES"
          },
          {
            "column_name": "processing_status",
            "data_type": "text",
            "is_nullable": "YES"
          },
          {
            "column_name": "created_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES"
          },
          {
            "column_name": "updated_at",
            "data_type": "timestamp with time zone",
            "is_nullable": "YES"
          }
        ]
      }
    }
  },
  "summary": {
    "total_tests": 9,
    "passed": 9,
    "failed": 0,
    "critical_failures": 0
  }
}