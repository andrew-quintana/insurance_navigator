{
  "migration_timestamp": "2025-05-28T11:35:29.481640",
  "migration_mode": "full_migration",
  "backup_info": {
    "success": false,
    "error": "pg_dump: error: server version: 15.8; pg_dump version: 14.17 (Homebrew)\npg_dump: error: aborting because of server version mismatch\n"
  },
  "migration_report": {
    "migration_completed_at": "2025-05-28T11:35:29.310259",
    "original_data": {
      "policy_records": 4,
      "policy_documents": 0
    },
    "migrated_data": {
      "policy_content_vectors": 0,
      "user_document_vectors": 0
    },
    "migration_stats": {
      "policies_processed": 4,
      "policies_successful": 0,
      "policies_failed": 4,
      "documents_processed": 0,
      "documents_successful": 0,
      "documents_failed": 0,
      "errors": []
    },
    "embedding_stats": {
      "error": "function array_length(vector, integer) does not exist\nHINT:  No function matches the given name and argument types. You might need to add explicit type casts.",
      "model_dimension": 384
    },
    "success_rate": "0.0%"
  },
  "validation_results": {
    "vector_tables_created": true,
    "data_migrated": false,
    "vector_search_working": false,
    "row_counts": {
      "policy_content_vectors": 0,
      "user_document_vectors": 0
    },
    "sample_queries": []
  },
  "migration_log": [
    {
      "step": "pre_migration_checks",
      "status": "completed",
      "details": {
        "legacy_tables_exist": true,
        "vector_tables_exist": false,
        "policy_count": 4,
        "document_count": 0
      }
    }
  ],
  "next_steps": [
    "Investigate vector search issues",
    "Verify embedding service configuration",
    "Check vector table indexes and permissions"
  ]
}