# Workflow Testing Cloud Deployment Environment Configuration
# Phase 2: Cloud Deployment Testing
# Extends Phase 1 configuration with cloud-specific settings

# =============================================================================
# PRODUCTION SUPABASE CONFIGURATION (Same as Phase 1)
# =============================================================================
# These credentials connect to the production Supabase instance
# Used for testing with real authentication and database services

# Supabase Project Configuration
SUPABASE_URL=***REMOVED***
SUPABASE_ANON_KEY=***REMOVED***.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpudnd6a2RibGtua2t6dHF5Zm51Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2ODA0NTYsImV4cCI6MjA2NzI1NjQ1Nn0.k0QHYOgm4EilyyTml57kCGDpbikpEtJCzq-qzGYQZqY
SUPABASE_SERVICE_ROLE_KEY=***REMOVED***.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpudnd6a2RibGtua2t6dHF5Zm51Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTY4MDQ1NiwiZXhwIjoyMDY3MjU2NDU2fQ.9Urox9-xr5TJz8a9LbSZsGUMcSTThc3QM6XDMJD-j-o

# Database Configuration
DATABASE_URL=postgresql://postgres:beqhar-qincyg-Syxxi8@db.znvwzkdblknkkztqyfnu.supabase.co:5432/postgres
POOLER_URL=postgresql://postgres.znvwzkdblknkkztqyfnu:beqhar-qincyg-Syxxi8@aws-0-us-west-1.pooler.supabase.com:6543/postgres

# =============================================================================
# EXTERNAL API CONFIGURATION (Same as Phase 1)
# =============================================================================
# Production API keys for external services
# These will be used for real API calls during testing

# OpenAI Configuration
OPENAI_API_KEY=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

# LlamaParse Configuration
LLAMAPARSE_API_KEY=llx-X9bRG4r7mq5Basype0fCvfvlj1372pDdQXi7KaxVqkRlkoSb
LLAMAPARSE_BASE_URL=https://api.cloud.llamaindex.ai

# =============================================================================
# CLOUD DEPLOYMENT CONFIGURATION
# =============================================================================
# Cloud-specific environment variables for Render.com and Vercel

# Render.com API Service
RENDER_API_URL=https://insurance-navigator-api-workflow-testing.onrender.com
RENDER_WORKER_URL=https://insurance-navigator-worker-workflow-testing.onrender.com

# Vercel Frontend
VERCEL_URL=https://insurance-navigator-frontend-workflow-testing.vercel.app
NEXT_PUBLIC_API_URL=https://insurance-navigator-api-workflow-testing.onrender.com
NEXT_PUBLIC_API_BASE_URL=https://insurance-navigator-api-workflow-testing.onrender.com

# Cross-Platform Configuration
CORS_ORIGINS=https://insurance-navigator-frontend-workflow-testing.vercel.app
API_BASE_URL=https://insurance-navigator-api-workflow-testing.onrender.com

# =============================================================================
# WORKFLOW TESTING ENVIRONMENT OVERRIDES (Same as Phase 1)
# =============================================================================
# These variables override production settings for testing isolation

# Environment Identification
UPLOAD_PIPELINE_ENVIRONMENT=workflow_testing
UPLOAD_PIPELINE_STORAGE_ENVIRONMENT=workflow_testing
NODE_ENV=test
NEXT_PUBLIC_ENVIRONMENT=workflow_testing
MONITORING_ENVIRONMENT=workflow_testing

# Service Configuration
SERVICE_MODE=HYBRID
SECURITY_BYPASS_ENABLED=false

# Storage Configuration
UPLOAD_PIPELINE_STORAGE_URL=***REMOVED***

# =============================================================================
# HEALTH CHECK CONFIGURATION (Same as Phase 1)
# =============================================================================
# Health monitoring settings for all services

# Global Health Check Settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# Service-Specific Health Check Settings
WORKER_HEALTH_CHECK_ENABLED=true
WORKER_HEALTH_CHECK_INTERVAL=30
FRONTEND_HEALTH_CHECK_ENABLED=true

# =============================================================================
# TESTING ISOLATION CONFIGURATION (Same as Phase 1)
# =============================================================================
# Settings to ensure test data doesn't interfere with production

# Database Schema Isolation
TEST_SCHEMA_PREFIX=workflow_testing_
TEST_TABLE_PREFIX=wt_

# Storage Bucket Isolation
TEST_STORAGE_BUCKET=workflow-testing-documents
TEST_STORAGE_PREFIX=workflow_testing/

# User Isolation
TEST_USER_PREFIX=test_user_
TEST_USER_DOMAIN=workflow-testing.local

# =============================================================================
# CLOUD-SPECIFIC MONITORING AND LOGGING
# =============================================================================
# Configuration for monitoring and debugging during cloud testing

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_DEBUG_LOGGING=true

# Cloud Monitoring Configuration
ENABLE_METRICS_COLLECTION=true
METRICS_INTERVAL=60
ENABLE_PERFORMANCE_MONITORING=true
ENABLE_CLOUD_MONITORING=true

# Error Tracking
ENABLE_ERROR_TRACKING=true
ERROR_SAMPLE_RATE=1.0
ENABLE_CLOUD_ERROR_TRACKING=true

# =============================================================================
# COST CONTROL AND SAFETY (Same as Phase 1)
# =============================================================================
# Settings to control external API usage and costs

# API Rate Limiting
OPENAI_RATE_LIMIT=10
LLAMAPARSE_RATE_LIMIT=5
MAX_CONCURRENT_REQUESTS=3

# Cost Monitoring
ENABLE_COST_MONITORING=true
DAILY_COST_LIMIT=50.00
ALERT_ON_COST_THRESHOLD=true

# Data Cleanup
ENABLE_AUTO_CLEANUP=true
CLEANUP_INTERVAL=3600
MAX_TEST_DATA_AGE=86400

# =============================================================================
# CLOUD DEPLOYMENT OPTIMIZATION
# =============================================================================
# Settings optimized for cloud deployment performance

# Render.com Optimizations
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
UVICORN_WORKERS=1
STARTUP_TIMEOUT=180
KEEP_ALIVE=75
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# Vercel Optimizations
NEXT_PUBLIC_APP_ENV=workflow_testing
NEXT_TELEMETRY_DISABLED=1

# Worker Optimizations
WORKER_POLL_INTERVAL=5
WORKER_MAX_JOBS=10
WORKER_MAX_RETRIES=3

# =============================================================================
# CROSS-PLATFORM INTEGRATION
# =============================================================================
# Configuration for service communication across platforms

# Service Discovery
ENABLE_SERVICE_DISCOVERY=true
SERVICE_DISCOVERY_TIMEOUT=30
SERVICE_DISCOVERY_RETRIES=3

# Network Configuration
ENABLE_NETWORK_MONITORING=true
NETWORK_TIMEOUT=30
NETWORK_RETRIES=3

# Load Balancing
ENABLE_LOAD_BALANCING=true
LOAD_BALANCE_STRATEGY=round_robin

# =============================================================================
# DEVELOPMENT AND DEBUGGING (Same as Phase 1)
# =============================================================================
# Settings for development and debugging during testing

# Debug Configuration
DEBUG_MODE=true
ENABLE_DEBUG_ENDPOINTS=true
VERBOSE_LOGGING=true

# Development Tools
ENABLE_DEV_TOOLS=true
ENABLE_HOT_RELOAD=false
ENABLE_SOURCE_MAPS=true

# Testing Configuration
ENABLE_TEST_MODE=true
MOCK_EXTERNAL_SERVICES=false
USE_REAL_EXTERNAL_APIS=true
